<div class="toolbar-user" fxFlex="grow">
  <button
    class="button"
    mat-button
    (click)="goToAccount()"
    fxFlex="grow"
  >
    <span fxLayout="row" fxLayoutAlign="start center">
      <ng-container *ngIf="user.photoURL as avatar; else showInitials">
        <img [src]="avatar" class="avatar" />
      </ng-container>
      
      <!-- Display Name initials -->
      <ng-template #showInitials>
        <div class="avatar" *ngIf="user.displayName; else showDefaultAvatar">
          {{user.displayName | nameInitials}}
        </div>

        <!-- Display Default avatar -->
        <ng-template #showDefaultAvatar>
          <img src="assets/img/default-user.jpg" class="avatar" />
        </ng-template>
      </ng-template>
      <span class="name" fxHide fxShow.gt-sm>{{ userName }}</span>
      <mat-icon class="icon" fxHide fxShow.gt-sm>keyboard_arrow_down</mat-icon>
    </span>
  </button>
</div>
