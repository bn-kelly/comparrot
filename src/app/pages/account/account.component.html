<div *ngIf="!!user" class="fury-account-component" fxLayout="column" fxLayout.gt-sm="row">
  <div class="content" fxFlex>
    <div class="header">
      <div class="title">Account</div>
    </div>

    <mat-tab-group class="tabs fury-tabs" animationDuration="0ms">
      <mat-tab label="General Profile">
        <h2 class="tab-header">General Profile</h2>
        <p class="tab-content">
          General Profile description
        </p>

        <form (ngSubmit)="updateGeneralProfile()" fxLayout="column" [formGroup]="form">
          <div fxLayout="column" fxLayout.gt-xs="row" fxLayoutGap="16px">
            <div fxFlex="auto" fxLayout="column" fxLayoutAlign="start center">
              <div class="input-file-image-container">
                <input type="file" id="userPhotoURL" formControlName="photoURL" (change)="changeUserPhotoURL($event)">
                <img class="user-image" src="{{form.value.photoURL || '../../../assets/img/default-user.jpg'}}">
              </div>
            </div>
            <div fxFlex="grow" fxLayout="column">
              <div fxFlex="auto" fxLayout="column">
                <mat-form-field>
                  <mat-label>First name</mat-label>
                  <input matInput required formControlName="firstName" autocomplete="off">
                  <mat-error *ngIf="form.get('firstName').hasError('required')">Please fill out this field</mat-error>
                  {{ formErrors.firstName }}
                </mat-form-field>
                <div *ngIf="formErrors.firstName" class="notification is-danger">
                  {{ formErrors.firstName }}
                </div>
              </div>
              <div fxFlex="auto" fxLayout="column">
                <mat-form-field>
                  <mat-label>Last name</mat-label>
                  <input matInput required formControlName="lastName" autocomplete="off">
                  <mat-error *ngIf="form.get('lastName').hasError('required')">Please fill out this field</mat-error>
                  {{ formErrors.lastName }}
                </mat-form-field>
                <div *ngIf="formErrors.lastName" class="notification is-danger">
                  {{ formErrors.lastName }}
                </div>
              </div>

              <div fxLayout="column" fxLayout.gt-xs="row" fxLayoutGap="16px">
                <div fxLayout="column">
                  <button
                      type="submit"
                      color="primary"
                      mat-raised-button
                      [disabled]="areGeneralProfileFormButtonsDisabled()"
                  >
                    UPDATE
                  </button>
                </div>
                <div fxLayout="column">
                  <button
                      (click)="resetGeneralProfile()"
                      type="button"
                      color="primary"
                      mat-stroked-button
                      [disabled]="areGeneralProfileFormButtonsDisabled()"
                  >
                    RESET
                  </button>
                </div>
                <div fxLayout="column" fxLayoutAlign="center start">
                  <div class="submit-area__message success" *ngIf="isGeneralProfileUpdated">
                    <mat-icon class="submit-area__icon">check_circle</mat-icon> Saved
                  </div>
                </div>
              </div>
            </div>
          </div>
        </form>

      </mat-tab>
      <mat-tab label="Personalization">
        <h2 class="tab-header">Personalization</h2>
        <p class="tab-content">
          Personalization description
        </p>
      </mat-tab>
      <mat-tab label="Wish List">
        <h2 class="tab-header">Wish List</h2>
        <p class="tab-content">
          Wish List description
        </p>
      </mat-tab>
    </mat-tab-group>
  </div>
</div>
